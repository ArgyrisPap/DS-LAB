<!DOCTYPE html>
<html
    xmlns:th="https://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{base}">

<head>
    <title>Order</title>
</head>

<body>

<header layout:fragment="header">
    <p>
        <a th:href="@{/orders}">Back to list</a>
    </p>
    <h1>Order</h1>
</header>

<section layout:fragment="main">

    <div class="mb-4">
        <a th:href="@{/profile}" th:text="'Logged in as: ' + ${me.emailAddress()} + ' (' + ${me.type()} + ')'"></a>
    </div>

    <ul class="mb-4">
        <li>Status: <b th:text="${order.status()}"></b></li>
        <li>User: <b th:text="${order.client().fullName()}"></b></li>
        <li>Teacher: <b th:text="${order.store().storeName()}"></b></li>
        <li>Queued at: <b th:text="${order.creatingDate()}"></b></li>
        <!--
        <li th:if="${ticket.inProgressAt() != null}">In progress at: <b th:text="${ticket.inProgressAt()}"></b></li>
        <li th:if="${ticket.inProgressAt() != null}">Completed at: <b th:text="${ticket.completedAt()}"></b></li>
        -->
        <li>Order Type: <b th:text="${order.type()}"></b></li>
        <!--
        <li th:if="${ticket.teacherContent() != null}">Teacher's Content: <b th:text="${ticket.teacherContent()}"></b></li>
        -->
    </ul>
<!--

    <-- Teacher actions
    <div th:if="${#authorization.expression('hasRole(''TEACHER'')')}">

        <-- IN_PROGRESS / start
        <form th:if="${order.status().name() == 'SENT_AT'}" th:action="@{|/tickets/${ticket.id()}/start|}" method="post">
            <button type="submit" class="btn btn-primary">Start</button>
        </form>

    </div>
    -->
</section>

</body>
</html>
